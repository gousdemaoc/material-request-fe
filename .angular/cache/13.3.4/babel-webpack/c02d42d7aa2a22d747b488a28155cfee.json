{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { getData } from '../../data-module/data.reducer';\nimport { fromEvent } from 'rxjs';\nimport * as DataActions from '../../data-module/state/data.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../no-item-dialog/no-item-dialog.component\";\nconst _c0 = [\"mat_search\"];\nconst _c1 = [\"materialSelector\"];\nconst _c2 = [\"pkg_search\"];\nconst _c3 = [\"packageSelector\"];\nconst _c4 = [\"mat_qty\"];\n\nconst _c5 = function (a0) {\n  return {\n    \"loading\": a0\n  };\n};\n\nfunction RequestDlgComponent_div_45_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 33);\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c5, ctx_r7.materials.length <= 1));\n  }\n}\n\nfunction RequestDlgComponent_div_45_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵlistener(\"click\", function RequestDlgComponent_div_45_div_9_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const i_r15 = restoredCtx.index;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return ctx_r16.selectMaterial(i_r15);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const m_r14 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate2(\"title\", \"\", m_r14.ITEM_NO, \" \", m_r14.DESCRIPTION, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", m_r14.ITEM_NO, \" \", m_r14.DESCRIPTION, \" \");\n  }\n}\n\nfunction RequestDlgComponent_div_45_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 33);\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c5, ctx_r11.materials.length <= 1));\n  }\n}\n\nfunction RequestDlgComponent_div_45_div_16_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵlistener(\"click\", function RequestDlgComponent_div_45_div_16_div_3_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const i_r21 = restoredCtx.index;\n      const ctx_r22 = i0.ɵɵnextContext(3);\n      return ctx_r22.selectPackage(i_r21);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const p_r20 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate7(\"title\", \"\", p_r20.CONT_TYPE, \" \", p_r20.CONT_MAX_VOL, \" \", p_r20.PKG_TYPE, \" \", p_r20.PKG_MAT, \" \", p_r20.PKG_LID_CLASS, \" \", p_r20.PKG_LINING_CLASS, \" \", p_r20.PKG_OTHER_CLASS, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate7(\" \", p_r20.CONT_TYPE, \" \", p_r20.CONT_MAX_VOL, \" \", p_r20.PKG_TYPE, \" \", p_r20.PKG_MAT, \" \", p_r20.PKG_LID_CLASS, \" \", p_r20.PKG_LINING_CLASS, \" \", p_r20.PKG_OTHER_CLASS, \" \");\n  }\n}\n\nfunction RequestDlgComponent_div_45_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 24, 35);\n    i0.ɵɵtemplate(3, RequestDlgComponent_div_45_div_16_div_3_Template, 2, 14, \"div\", 26);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r12.filteredPackages);\n  }\n}\n\nconst _c6 = function (a0, a1) {\n  return {\n    \"green\": a0,\n    \"gray\": a1\n  };\n};\n\nfunction RequestDlgComponent_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"div\", 20)(2, \"div\");\n    i0.ɵɵtext(3, \"Materials\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 21, 22);\n    i0.ɵɵtemplate(6, RequestDlgComponent_div_45_div_6_Template, 1, 3, \"div\", 23);\n    i0.ɵɵelementStart(7, \"div\", 24, 25);\n    i0.ɵɵtemplate(9, RequestDlgComponent_div_45_div_9_Template, 2, 4, \"div\", 26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 20)(11, \"div\");\n    i0.ɵɵtext(12, \"Packages\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"input\", 21, 27);\n    i0.ɵɵtemplate(15, RequestDlgComponent_div_45_div_15_Template, 1, 3, \"div\", 23);\n    i0.ɵɵtemplate(16, RequestDlgComponent_div_45_div_16_Template, 4, 1, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 20)(18, \"div\");\n    i0.ɵɵtext(19, \"Quantity:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 28)(21, \"div\");\n    i0.ɵɵelement(22, \"input\", 29, 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\")(25, \"div\", 31)(26, \"i\", 32);\n    i0.ɵɵlistener(\"click\", function RequestDlgComponent_div_45_Template_i_click_26_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return ctx_r24.addLineItem();\n    });\n    i0.ɵɵelementEnd()()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.materials.length <= 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.filteredMaterials);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.materials.length <= 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.materials.length > 1);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(5, _c6, ctx_r0.materialRef && ctx_r0.materialRef.material && ctx_r0.materialRef.package && ctx_r0.materialRef.quantity && ctx_r0.materialRef.quantity > 0, !ctx_r0.materialRef || !ctx_r0.materialRef.material || !ctx_r0.materialRef.package || !ctx_r0.materialRef.quantity || ctx_r0.materialRef.quantity <= 0));\n  }\n}\n\nfunction RequestDlgComponent_table_48_th_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 39);\n  }\n}\n\nfunction RequestDlgComponent_table_48_tr_13_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 42)(1, \"div\", 43)(2, \"i\", 44);\n    i0.ɵɵlistener(\"click\", function RequestDlgComponent_table_48_tr_13_td_1_Template_i_click_2_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const i_r29 = i0.ɵɵnextContext().index;\n      const ctx_r31 = i0.ɵɵnextContext(2);\n      return ctx_r31.deleteItem(i_r29);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nconst _c7 = function (a0) {\n  return {\n    \"altRow\": a0\n  };\n};\n\nfunction RequestDlgComponent_table_48_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 40);\n    i0.ɵɵtemplate(1, RequestDlgComponent_table_48_tr_13_td_1_Template, 3, 0, \"td\", 41);\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const line_r28 = ctx.$implicit;\n    const i_r29 = ctx.index;\n    const ctx_r27 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c7, i_r29 % 2 === 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r27.selectedRequest.status === \"NEW\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(line_r28.inventory_item_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(line_r28.item_desc);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(line_r28.package_type_desc);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(line_r28.requested_qty);\n  }\n}\n\nfunction RequestDlgComponent_table_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 36)(1, \"thead\")(2, \"tr\");\n    i0.ɵɵtemplate(3, RequestDlgComponent_table_48_th_3_Template, 1, 0, \"th\", 37);\n    i0.ɵɵelementStart(4, \"th\");\n    i0.ɵɵtext(5, \"Item Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Package\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"QTY\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵtemplate(13, RequestDlgComponent_table_48_tr_13_Template, 10, 8, \"tr\", 38);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.selectedRequest.status === \"NEW\");\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.selectedRequest.lines);\n  }\n}\n\nfunction RequestDlgComponent_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45)(1, \"p\");\n    i0.ɵɵtext(2, \"NO MATERIALS HAVE BEEN ADDED TO THIS REQUEST\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction RequestDlgComponent_ng_container_50_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 46)(2, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function RequestDlgComponent_ng_container_50_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return ctx_r34.handleCloseRequest();\n    });\n    i0.ɵɵelement(3, \"i\", 48);\n    i0.ɵɵtext(4, \" Close Request\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function RequestDlgComponent_ng_container_50_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return ctx_r36.handleSaveRequest();\n    });\n    i0.ɵɵelement(6, \"i\", 49);\n    i0.ɵɵtext(7, \" Save\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction RequestDlgComponent_app_no_item_dialog_51_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-no-item-dialog\", 50);\n    i0.ɵɵlistener(\"close\", function RequestDlgComponent_app_no_item_dialog_51_Template_app_no_item_dialog_close_0_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return ctx_r37.closeNoItemDialog();\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c8 = function (a0) {\n  return {\n    \"disable\": a0\n  };\n};\n\nfunction RequestDlgComponent_div_52_ng_container_1_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 55)(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\")(8, \"input\", 56);\n    i0.ɵɵlistener(\"ngModelChange\", function RequestDlgComponent_div_52_ng_container_1_div_17_Template_input_ngModelChange_8_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r45);\n      const line_r43 = restoredCtx.$implicit;\n      return line_r43.actual_qty = $event;\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\")(10, \"input\", 56);\n    i0.ɵɵlistener(\"ngModelChange\", function RequestDlgComponent_div_52_ng_container_1_div_17_Template_input_ngModelChange_10_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r45);\n      const line_r43 = restoredCtx.$implicit;\n      return line_r43.fulfilled_weight = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \" LBS \");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const line_r43 = ctx.$implicit;\n    const ctx_r42 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c8, ctx_r42.editQuantities === false));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", line_r43.inventory_item_id, \"\\u00A0\\u00A0\", line_r43.item_desc, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", line_r43.package_type_desc, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", line_r43.requested_qty, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", line_r43.actual_qty);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", line_r43.fulfilled_weight);\n  }\n}\n\nfunction RequestDlgComponent_div_52_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\")(2, \"input\", 52);\n    i0.ɵɵlistener(\"ngModelChange\", function RequestDlgComponent_div_52_ng_container_1_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r47 = i0.ɵɵnextContext(2);\n      return ctx_r47.editQuantities = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Mark as filled\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\");\n    i0.ɵɵtext(5, \"\\u00A0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 53)(7, \"div\");\n    i0.ɵɵtext(8, \"ITEM\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\");\n    i0.ɵɵtext(10, \"PKG\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\");\n    i0.ɵɵtext(12, \"PKG QTY\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\");\n    i0.ɵɵtext(14, \"FILLED QTY\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\");\n    i0.ɵɵtext(16, \"FILLED PRODUCT WEIGHT\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(17, RequestDlgComponent_div_52_ng_container_1_div_17_Template, 12, 9, \"div\", 54);\n    i0.ɵɵelementStart(18, \"div\");\n    i0.ɵɵelement(19, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 46)(21, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function RequestDlgComponent_div_52_ng_container_1_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r49 = i0.ɵɵnextContext(2);\n      return ctx_r49.handleCloseRequest();\n    });\n    i0.ɵɵelement(22, \"i\", 48);\n    i0.ɵɵtext(23, \" Close Request\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function RequestDlgComponent_div_52_ng_container_1_Template_button_click_24_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r50 = i0.ɵɵnextContext(2);\n      return ctx_r50.handleSaveRequest();\n    });\n    i0.ɵɵelement(25, \"i\", 49);\n    i0.ɵɵtext(26, \" Save\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r39 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r39.editQuantities === true)(\"ngModel\", ctx_r39.editQuantities);\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r39.selectedRequest.lines);\n  }\n}\n\nfunction RequestDlgComponent_div_52_ng_container_2_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r54 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 55)(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\")(8, \"input\", 56);\n    i0.ɵɵlistener(\"ngModelChange\", function RequestDlgComponent_div_52_ng_container_2_div_15_Template_input_ngModelChange_8_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r54);\n      const line_r52 = restoredCtx.$implicit;\n      return line_r52.received_qty = $event;\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const line_r52 = ctx.$implicit;\n    const ctx_r51 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c8, ctx_r51.editQuantities === false));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", line_r52.inventory_item_id, \"\\u00A0\\u00A0\", line_r52.item_desc, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", line_r52.package_type_desc, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", line_r52.requested_qty, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", line_r52.received_qty);\n  }\n}\n\nfunction RequestDlgComponent_div_52_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r56 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\")(2, \"input\", 52);\n    i0.ɵɵlistener(\"ngModelChange\", function RequestDlgComponent_div_52_ng_container_2_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r55 = i0.ɵɵnextContext(2);\n      return ctx_r55.editQuantities = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Mark as received\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\");\n    i0.ɵɵtext(5, \"\\u00A0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 57)(7, \"div\");\n    i0.ɵɵtext(8, \"ITEM\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\");\n    i0.ɵɵtext(10, \"PKG\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\");\n    i0.ɵɵtext(12, \"QTY\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\");\n    i0.ɵɵtext(14, \"RECV QTY\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(15, RequestDlgComponent_div_52_ng_container_2_div_15_Template, 9, 8, \"div\", 54);\n    i0.ɵɵelementStart(16, \"div\");\n    i0.ɵɵelement(17, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 46)(19, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function RequestDlgComponent_div_52_ng_container_2_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r57 = i0.ɵɵnextContext(2);\n      return ctx_r57.handleCloseRequest();\n    });\n    i0.ɵɵelement(20, \"i\", 48);\n    i0.ɵɵtext(21, \" Close Request\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function RequestDlgComponent_div_52_ng_container_2_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r58 = i0.ɵɵnextContext(2);\n      return ctx_r58.handleSaveRequest();\n    });\n    i0.ɵɵelement(23, \"i\", 49);\n    i0.ɵɵtext(24, \" Save\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r40 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r40.editQuantities === true)(\"ngModel\", ctx_r40.editQuantities);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r40.selectedRequest.lines);\n  }\n}\n\nfunction RequestDlgComponent_div_52_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r60 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 58)(2, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function RequestDlgComponent_div_52_ng_container_3_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r60);\n      const ctx_r59 = i0.ɵɵnextContext(2);\n      return ctx_r59.handleCloseRequest();\n    });\n    i0.ɵɵelement(3, \"i\", 48);\n    i0.ɵɵtext(4, \" Close Request\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function RequestDlgComponent_div_52_ng_container_3_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r60);\n      const ctx_r61 = i0.ɵɵnextContext(2);\n      return ctx_r61.handleCancelRequest();\n    });\n    i0.ɵɵelement(6, \"i\", 59);\n    i0.ɵɵtext(7, \" Cancel Request\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction RequestDlgComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51);\n    i0.ɵɵtemplate(1, RequestDlgComponent_div_52_ng_container_1_Template, 27, 3, \"ng-container\", 16);\n    i0.ɵɵtemplate(2, RequestDlgComponent_div_52_ng_container_2_Template, 25, 3, \"ng-container\", 16);\n    i0.ɵɵtemplate(3, RequestDlgComponent_div_52_ng_container_3_Template, 8, 0, \"ng-container\", 16);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.user.emc_applications[0].emc_access_level == 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.user.emc_applications[0].emc_access_level == 1 && ctx_r5.selectedRequest.status == \"FILLED\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.user.emc_applications[0].emc_access_level == 1 && ctx_r5.selectedRequest.status == \"PENDING\");\n  }\n}\n\nexport let RequestDlgComponent = /*#__PURE__*/(() => {\n  class RequestDlgComponent {\n    constructor(store) {\n      this.store = store;\n      this.closeOpenRequest = new EventEmitter();\n      this.cancelOpenRequest = new EventEmitter();\n      this.saveOpenRequest = new EventEmitter();\n      this.materials = [];\n      this.filteredMaterials = [];\n      this.msIndex = 0;\n      this.packages = [];\n      this.filteredPackages = [];\n      this.psIndex = 0;\n      this.materialRef = {\n        material: {\n          INVENTORY_ITEM_ID: 0,\n          ITEM_NO: '',\n          DESCRIPTION: '',\n          BULK_ITEM_ID: ''\n        },\n        package: {\n          CONT_TYPE: '',\n          CONT_MAX_VOL: '',\n          PKG_TYPE: '',\n          PKG_MAT: '',\n          PKG_LID_CLASS: '',\n          PKG_LINING_CLASS: '',\n          PKG_OTHER_CLASS: ''\n        },\n        quantity: 0\n      };\n      this.editQuantities = false;\n      this.showNoItemDialog = false;\n    }\n\n    ngOnInit() {\n      this.store.dispatch(DataActions.loadMaterials());\n      this.editQuantities = false;\n      this.referenceDate = new Date('January 1, 1900');\n      this.store.select(getData).subscribe(state => {\n        console.log('state', state);\n\n        if (state !== null) {\n          this.materials = state[1].products;\n          this.packages = state[1].packages; //console.log(this.materials);\n\n          this.psIndex = -1;\n          this.msIndex = -1;\n        } else {\n          this.materials = [{\n            ITEM_NO: 'TEST',\n            DESCRIPTION: 'TEST'\n          }, {\n            ITEM_NO: 'TEST',\n            DESCRIPTION: 'TEST'\n          }];\n          this.packages = [];\n        }\n      });\n      this.filteredMaterials = [];\n      this.initializeNewMaterial();\n\n      if (this.selectedRequest.request_id <= 0) {\n        this.setRequiredByDate();\n      }\n    }\n\n    ngAfterViewInit() {\n      // console.log(this.selectedRequest);\n      //if(this.selectedRequest.request_id <= 0 && this.selectedRequest.status === 'NEW')\n      if (this.selectedRequest && this.selectedRequest.request_id <= 0) {\n        fromEvent(this.pk_srch.nativeElement, 'keydown').subscribe(res => {\n          if (this.filteredPackages && this.filteredPackages.length > 0) // @ts-ignore\n            switch (res.keyCode) {\n              case 13:\n                // this.pk_srch.nativeElement.value = (this.filteredPackages && this.filteredPackages.length) ? this.filteredPackages[this.psIndex][\"CONT_TYPE\"] : this.pk_srch.nativeElement.value;\n                this.selectPackage(this.psIndex);\n                break;\n\n              case 40:\n                // @ts-ignore\n                Array.from(this.ps.nativeElement.children).map(elem => elem.classList.remove('selected'));\n                this.psIndex = this.psIndex === this.ps.nativeElement.children.length - 1 ? 0 : this.psIndex + 1;\n                if (this.ps.nativeElement.children.length > 0) this.ps.nativeElement.children[this.psIndex].setAttribute('class', 'selected');\n                break;\n\n              case 38:\n                // console.log(`Starting: ${this.psIndex}`)\n                // @ts-ignore\n                Array.from(this.ps.nativeElement.children).map(elem => elem.classList.remove('selected'));\n                this.psIndex = this.psIndex > -1 ? this.psIndex - 1 : -1; // console.log(this.psIndex);\n\n                if (this.psIndex >= 0) if (this.ps.nativeElement.children.length > 0) this.ps.nativeElement.children[this.psIndex].setAttribute('class', 'selected');\n                break;\n            }\n        });\n        fromEvent(this.pk_srch.nativeElement, 'keyup').subscribe(res => {\n          this.pk_srch.nativeElement.value = this.pk_srch.nativeElement.value.toUpperCase(); // @ts-ignore\n\n          switch (res.keyCode) {\n            case 38:\n            case 40:\n            case 13:\n              break;\n\n            default:\n              // @ts-ignore\n              const search = res.target.value.toUpperCase();\n\n              if (search && search.trim().length > 0) {\n                this.filterPackages(search);\n              } else this.filteredPackages = [];\n\n              break;\n          }\n        });\n        fromEvent(this.mat_srch.nativeElement, 'keydown').subscribe(res => {\n          if (this.filteredMaterials && this.filteredMaterials.length > 0) // @ts-ignore\n            switch (res.keyCode) {\n              case 13:\n                // console.log(`pressed enter`);\n                this.mat_srch.nativeElement.value = this.filteredMaterials && this.filteredMaterials.length ? this.filteredMaterials[this.msIndex][\"ITEM_NO\"] : this.mat_srch.nativeElement.value;\n                this.selectMaterial(this.msIndex);\n                break;\n\n              case 40:\n                // @ts-ignore\n                Array.from(this.ms.nativeElement.children).map(elem => elem.classList.remove('selected'));\n                this.msIndex = this.msIndex === this.ms.nativeElement.children.length - 1 ? 0 : this.msIndex + 1;\n                this.ms.nativeElement.children[this.msIndex].setAttribute('class', 'selected');\n                break;\n\n              case 38:\n                // console.log(`Starting: ${this.msIndex}`)\n                // @ts-ignore\n                Array.from(this.ms.nativeElement.children).map(elem => elem.classList.remove('selected'));\n                this.msIndex = this.msIndex > -1 ? this.msIndex - 1 : -1; // console.log(this.msIndex);\n\n                if (this.msIndex >= 0) this.ms.nativeElement.children[this.msIndex].setAttribute('class', 'selected');\n                break;\n            }\n        });\n        fromEvent(this.mat_srch.nativeElement, 'keyup').subscribe(res => {\n          // @ts-ignore\n          switch (res.keyCode) {\n            case 38:\n            case 40:\n            case 13:\n              break;\n\n            default:\n              this.mat_srch.nativeElement.value = this.mat_srch.nativeElement.value.toUpperCase(); // @ts-ignore\n\n              const search = res.target.value.toUpperCase();\n\n              if (search && search.trim().length > 0) {\n                this.filterMaterials(search);\n              } else this.filteredMaterials = [];\n\n              break;\n          }\n        });\n        fromEvent(this.mat_qty.nativeElement, 'input').subscribe(res => {\n          // @ts-ignore\n          this.materialRef.quantity = parseInt(res.target.value); // console.log(this.materialRef);\n        });\n      }\n    }\n\n    setRequiredByDate() {\n      let daysToAdd = 3;\n      let currentDate = new Date();\n\n      while (daysToAdd > 0) {\n        currentDate.setDate(currentDate.getDate() + 1); // Move to the next day\n        // Skip weekends (Saturday = 6, Sunday = 0)\n\n        if (currentDate.getDay() !== 0 && currentDate.getDay() !== 6) {\n          daysToAdd--;\n        }\n      }\n\n      this.selectedRequest.dtm_required = currentDate;\n    }\n\n    filterMaterials(search) {\n      //Reset the selected Index on the materials list\n      this.msIndex = -1; //Remove any selections that might be made already\n      // @ts-ignore\n\n      Array.from(this.ms.nativeElement.children).map(elem => elem.classList.remove('selected'));\n      console.log('filtering', this.materials);\n      this.filteredMaterials = this.materials.filter(mat => {\n        return mat.ITEM_NO.toUpperCase().startsWith(search.toUpperCase()) || mat.DESCRIPTION.trim().toUpperCase().startsWith(search.trim().toUpperCase());\n      }).sort((a, b) => {\n        return a[\"ITEM_NO\"].localeCompare(b[\"ITEM_NO\"]);\n      }).slice(0, 5);\n      if (this.filteredMaterials.length > 1) this.materialRef.material = undefined;else if (this.filteredMaterials.length === 1) {\n        this.msIndex = 0;\n        this.materialRef.material = this.filteredMaterials[this.msIndex]; // @ts-ignore\n\n        Array.from(this.ms.nativeElement.children).map(elem => elem.classList.remove('selected'));\n        if (this.ms.nativeElement.children[0]) this.ms.nativeElement.children[0].setAttribute('class', 'selected');\n      }\n    }\n\n    filterPackages(search) {\n      this.filteredPackages = this.packages.filter(item => {\n        return item.CONT_TYPE.toUpperCase().startsWith(search);\n      }).sort((a, b) => {\n        return a[\"CONT_TYPE\"].localeCompare(b[\"CONT_TYPE\"]);\n      }).slice(0, 5);\n      if (this.filteredPackages.length > 1) this.materialRef.package = undefined;else if (this.filteredPackages.length === 1) {\n        this.psIndex = 0;\n        this.materialRef.package = this.filteredPackages[this.psIndex]; // @ts-ignore\n\n        Array.from(this.ps.nativeElement.children).map(elem => elem.classList.remove('selected'));\n        if (this.ps.nativeElement.children[0]) this.ps.nativeElement.children[0].setAttribute('class', 'selected');\n      }\n    }\n\n    selectMaterial(index) {\n      this.mat_srch.nativeElement.value = this.filteredMaterials[index]['ITEM_NO'];\n      this.filteredMaterials = this.filteredMaterials.filter(mat => {\n        return mat.ITEM_NO == this.filteredMaterials[index]['ITEM_NO'] && mat.DESCRIPTION == this.filteredMaterials[index]['DESCRIPTION'];\n      });\n      this.materialRef.material = this.filteredMaterials && this.filteredMaterials.length ? this.filteredMaterials[0] : undefined; // console.log(this.materialRef);\n    }\n\n    selectPackage(index = 0) {\n      // console.table(this.filteredPackages);\n      // console.log(this.filteredPackages[index]['CONT_TYPE']);\n      this.pk_srch.nativeElement.value = this.filteredPackages[index]['CONT_TYPE'];\n      this.filteredPackages = this.filteredPackages.filter(pkg => {\n        return pkg.CONT_TYPE === this.pk_srch.nativeElement.value;\n      });\n      this.ps.nativeElement.children[0].setAttribute('class', 'selected');\n      this.materialRef.package = this.filteredPackages && this.filteredPackages.length ? this.filteredPackages[0] : undefined; // console.log(this.materialRef);\n    }\n\n    addLineItem() {\n      // alert('adding new line')\n      // if(this.selectedRequest.request_id === -1){\n      //   this.selectedRequest.request_id = 1;\n      // }\n      // if(this.materialRef.quantity===undefined){\n      //   this.materialRef.quantity=0;\n      // }\n      console.log('adding new line');\n      console.log(this.selectedRequest.lines.length);\n\n      if (this.selectedRequest.lines.length < 4 && this.materialRef && this.materialRef.material && this.materialRef.package && this.materialRef.quantity && this.materialRef.quantity > 0) {\n        let requestLine = {\n          request_id: this.selectedRequest.request_id,\n          inventory_item_id: this.materialRef.material.ITEM_NO,\n          item_desc: this.materialRef.material.DESCRIPTION,\n          package_type_desc: this.materialRef.package.CONT_TYPE,\n          requested_qty: this.materialRef.quantity,\n          actual_qty: 0,\n          fulfilled_weight: 0,\n          received_qty: 0,\n          fulfilled_by: \"\",\n          received_by: \"\"\n        };\n        this.selectedRequest.lines.push(JSON.parse(JSON.stringify(requestLine)));\n        requestLine = undefined;\n        this.initializeNewMaterial();\n      } else {\n        console.log('No item to add');\n        this.showNoItemDialog = true;\n      }\n    }\n\n    deleteItem(index) {\n      this.selectedRequest.lines.splice(index, 1);\n    }\n\n    sortData(data, column) {\n      return data && data.length ? typeof data[0][column] === 'number' ? data.sort((a, b) => {\n        return a[column] - b[column];\n      }) : data.sort((a, b) => {\n        return a[column].localeCompare(b[column]);\n      }) : null;\n    }\n\n    showDate(date) {\n      if (date) return this.referenceDate.getTime() < this.parseDate(date).getTime();\n    }\n\n    parseDate(dateString) {\n      if (dateString) {\n        return new Date(dateString);\n      }\n\n      return null;\n    }\n\n    handleCloseRequest() {\n      this.closeOpenRequest.emit(this.selectedRequest);\n    }\n\n    handleCancelRequest() {\n      this.cancelOpenRequest.emit(this.selectedRequest);\n    }\n\n    handleSaveRequest() {\n      this.selectedRequest.lines.forEach(item => {\n        if (this.selectedRequest.status === 'PENDING') {\n          this.selectedRequest.dtm_fulfilled = new Date();\n          item.fulfilled_by = this.user.login;\n        } else {\n          this.selectedRequest.dtm_received = new Date();\n          item.received_by = this.user.login;\n        }\n      });\n      this.saveOpenRequest.emit(this.selectedRequest);\n    }\n\n    initializeNewMaterial() {\n      this.materialRef = {\n        material: {\n          INVENTORY_ITEM_ID: undefined,\n          ITEM_NO: '',\n          DESCRIPTION: '',\n          BULK_ITEM_ID: ''\n        },\n        package: {\n          CONT_TYPE: '',\n          CONT_MAX_VOL: '',\n          PKG_TYPE: '',\n          PKG_MAT: '',\n          PKG_LID_CLASS: '',\n          PKG_LINING_CLASS: '',\n          PKG_OTHER_CLASS: ''\n        },\n        quantity: 0\n      }; // It's not enough to initialized the object because of the functionality of the controls\n\n      if (this.mat_srch) {\n        this.mat_srch.nativeElement.value = '';\n        this.msIndex = -1;\n        this.filteredMaterials.length = 0;\n      }\n\n      if (this.pk_srch) {\n        this.pk_srch.nativeElement.value = '';\n        this.psIndex = -1;\n        this.filteredPackages.length = 0;\n      }\n\n      if (this.mat_qty) this.mat_qty.nativeElement.value = '';\n    }\n\n    closeNoItemDialog() {\n      this.showNoItemDialog = false;\n    }\n\n  }\n\n  RequestDlgComponent.ɵfac = function RequestDlgComponent_Factory(t) {\n    return new (t || RequestDlgComponent)(i0.ɵɵdirectiveInject(i1.Store));\n  };\n\n  RequestDlgComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RequestDlgComponent,\n    selectors: [[\"app-request-dlg\"]],\n    viewQuery: function RequestDlgComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n        i0.ɵɵviewQuery(_c2, 5);\n        i0.ɵɵviewQuery(_c3, 5);\n        i0.ɵɵviewQuery(_c4, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mat_srch = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.ms = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.pk_srch = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.ps = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mat_qty = _t.first);\n      }\n    },\n    inputs: {\n      selectedRequest: \"selectedRequest\",\n      user: \"user\"\n    },\n    outputs: {\n      closeOpenRequest: \"closeOpenRequest\",\n      cancelOpenRequest: \"cancelOpenRequest\",\n      saveOpenRequest: \"saveOpenRequest\"\n    },\n    decls: 53,\n    vars: 23,\n    consts: [[1, \"container\"], [1, \"dialog\"], [1, \"header\"], [1, \"left\"], [1, \"center\"], [1, \"right\"], [1, \"form\"], [1, \"requestHdr\"], [\"type\", \"date\", 3, \"value\", \"disabled\", \"input\"], [3, \"disabled\", \"ngModel\", \"ngModelChange\"], [\"value\", \"85\"], [\"value\", \"285\"], [\"class\", \"requestBldr\", 4, \"ngIf\"], [1, \"requestItems\"], [\"style\", \"width: 100%;\", 4, \"ngIf\"], [\"class\", \"materials-list-msg\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"close\", 4, \"ngIf\"], [\"class\", \"requestEditor\", 4, \"ngIf\"], [1, \"requestBldr\"], [1, \"box\"], [\"type\", \"text\"], [\"mat_search\", \"\"], [3, \"ngClass\", 4, \"ngIf\"], [1, \"select-container\"], [\"materialSelector\", \"\"], [3, \"title\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"pkg_search\", \"\"], [1, \"_2col\"], [\"min\", \"1\", \"max\", \"99\", \"type\", \"number\"], [\"mat_qty\", \"\"], [1, \"dot\", \"hvr-icon-spin\", 2, \"float\", \"left\", \"height\", \"2em\", \"width\", \"2em\", 3, \"ngClass\"], [1, \"icofont-plus\", \"hvr-icon\", 2, \"font-size\", \"1em\", 3, \"click\"], [3, \"ngClass\"], [3, \"title\", \"click\"], [\"packageSelector\", \"\"], [2, \"width\", \"100%\"], [\"style\", \"border: none;\", 4, \"ngIf\"], [\"class\", \"pointer\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [2, \"border\", \"none\"], [1, \"pointer\", 3, \"ngClass\"], [\"align\", \"center\", 4, \"ngIf\"], [\"align\", \"center\"], [1, \"dot\", \"red\", \"hvr-push\", 2, \"height\", \"1.5em\", \"width\", \"1.5em\"], [1, \"icofont-close\", \"white\", 3, \"click\"], [1, \"materials-list-msg\"], [1, \"controls\", 2, \"position\", \"absolute\", \"bottom\", \"1em\", \"width\", \"100%\", \"margin\", \"0 auto\"], [3, \"click\"], [1, \"icofont-ui-close\", 2, \"color\", \"rgba(241, 71, 70,1)\"], [1, \"icofont-save\", 2, \"color\", \"rgba(56, 193, 49, 1)\"], [3, \"close\"], [1, \"requestEditor\"], [\"type\", \"checkbox\", 3, \"disabled\", \"ngModel\", \"ngModelChange\"], [1, \"update-request\", 2, \"margin-bottom\", \"2em\"], [\"class\", \"update-request\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"update-request\", 3, \"ngClass\"], [\"type\", \"number\", \"min\", \"1\", \"max\", \"99\", 2, \"font-size\", \".85em\", 3, \"ngModel\", \"ngModelChange\"], [1, \"update-request\", 2, \"margin-bottom\", \"1em\"], [1, \"controls\", 2, \"height\", \"100%\", \"width\", \"100%\"], [1, \"icofont-ban\", 2, \"color\", \"rgba(241, 71, 70,1)\"]],\n    template: function RequestDlgComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵelement(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵtext(5, \"REQUEST ID: \");\n        i0.ɵɵelementStart(6, \"span\");\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(8, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 6)(10, \"div\", 7)(11, \"div\")(12, \"div\")(13, \"ul\")(14, \"li\");\n        i0.ɵɵtext(15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"li\");\n        i0.ɵɵtext(17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"li\");\n        i0.ɵɵtext(19);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(20, \"div\")(21, \"div\")(22, \"ul\")(23, \"li\");\n        i0.ɵɵtext(24);\n        i0.ɵɵpipe(25, \"date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"li\");\n        i0.ɵɵtext(27, \" Required By: \");\n        i0.ɵɵelementStart(28, \"input\", 8);\n        i0.ɵɵlistener(\"input\", function RequestDlgComponent_Template_input_input_28_listener($event) {\n          return ctx.selectedRequest.dtm_required = $event.target.valueAsDate;\n        });\n        i0.ɵɵpipe(29, \"date\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(30, \"div\")(31, \"div\")(32, \"ul\")(33, \"li\");\n        i0.ɵɵtext(34);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"li\");\n        i0.ɵɵtext(36);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"li\")(38, \"span\");\n        i0.ɵɵtext(39, \"Plant: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"select\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function RequestDlgComponent_Template_select_ngModelChange_40_listener($event) {\n          return ctx.selectedRequest.org_id = $event;\n        });\n        i0.ɵɵelementStart(41, \"option\", 10);\n        i0.ɵɵtext(42, \"TNC\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"option\", 11);\n        i0.ɵɵtext(44, \"TNR\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵtemplate(45, RequestDlgComponent_div_45_Template, 27, 8, \"div\", 12);\n        i0.ɵɵelementStart(46, \"div\", 13)(47, \"div\");\n        i0.ɵɵtemplate(48, RequestDlgComponent_table_48_Template, 14, 2, \"table\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(49, RequestDlgComponent_div_49_Template, 3, 0, \"div\", 15);\n        i0.ɵɵtemplate(50, RequestDlgComponent_ng_container_50_Template, 8, 0, \"ng-container\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(51, RequestDlgComponent_app_no_item_dialog_51_Template, 1, 0, \"app-no-item-dialog\", 17);\n        i0.ɵɵtemplate(52, RequestDlgComponent_div_52_Template, 4, 3, \"div\", 18);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.selectedRequest.request_id > 0 ? ctx.selectedRequest.request_id : \"New Request\");\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(ctx.user.login.toUpperCase());\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate2(\"\", ctx.user.first_name.toUpperCase(), \" \", ctx.user.last_name.toUpperCase(), \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.user.email);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" Submitted on: \", i0.ɵɵpipeBind1(25, 18, ctx.selectedRequest.dtm_submitted), \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"value\", i0.ɵɵpipeBind2(29, 20, ctx.selectedRequest.dtm_required, \"yyyy-MM-dd\"))(\"disabled\", ctx.selectedRequest.status !== \"NEW\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\"Request Status: \", ctx.selectedRequest.status, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Requested By: \", ctx.selectedRequest.requested_by, \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.selectedRequest.status !== \"NEW\")(\"ngModel\", ctx.selectedRequest.org_id);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedRequest && ctx.selectedRequest.request_id <= 0);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedRequest.lines.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedRequest.lines <= 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.user.emc_applications[0].emc_access_level == 1 && ctx.selectedRequest.lines.length > 0 && ctx.selectedRequest.request_id <= 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showNoItemDialog);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedRequest && ctx.selectedRequest.request_id > 0);\n      }\n    },\n    directives: [i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgModel, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i3.NgIf, i3.NgClass, i3.NgForOf, i4.NoItemDialogComponent, i2.CheckboxControlValueAccessor, i2.MinValidator, i2.MaxValidator, i2.NumberValueAccessor, i2.DefaultValueAccessor],\n    pipes: [i3.DatePipe],\n    styles: [\".container[_ngcontent-%COMP%]{animation:fadeIn ease .5s;position:absolute;top:0;left:0;z-index:1999;height:100%;width:100%;background-color:#00000040;display:flex;place-content:center;place-items:center}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]{height:50em;width:80em;background-color:#fff;border-radius:5px;border:solid thin rgba(0,0,0,.35);box-shadow:0 0 25px #00000026;font-family:Helvetica;font-size:.85rem}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:3em;padding:1em;display:grid;grid-template-columns:1fr 4fr 1fr;box-shadow:0 0 20px #0000000d;width:100%;box-sizing:border-box}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{align-content:start}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{align-content:end}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:1rem;display:grid;grid-gap:1em;grid-template-rows:10em 15em 15em}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestHdr[_ngcontent-%COMP%]{box-shadow:0 0 20px #00000026;border:solid thin rgba(0,0,0,.2);border-radius:3px;display:grid;grid-template-columns:1fr 1fr 1fr;font-size:.85em;padding:1em}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestHdr[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;place-content:center;place-items:center}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestHdr[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestHdr[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.15em}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestHdr[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{font-size:.95em}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestHdr[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:.85em}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestBldr[_ngcontent-%COMP%]{box-shadow:0 0 20px #00000026;border:solid thin rgba(0,0,0,.2);border-radius:3px;display:grid;grid-template-columns:1fr 1fr 1fr}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestBldr[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{height:100%;width:100%;padding:1em;box-sizing:border-box}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestBldr[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;text-transform:uppercase}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestBldr[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]{display:block;height:100px;overflow-y:scroll;font-size:.75em}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestBldr[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:.25em;width:180px;overflow-x:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:pointer}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestBldr[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover, .container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestBldr[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:#0000001a}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestItems[_ngcontent-%COMP%]{position:relative;height:100%;border-radius:3px;padding:.25em;box-shadow:0 0 20px #00000026;border:solid thin rgba(0,0,0,.2)}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestItems[_ngcontent-%COMP%]   .materials-list-msg[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;place-items:center;place-content:center;font-family:American Typewriter;color:#00000040}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestEditor[_ngcontent-%COMP%]{position:relative;height:100%;box-sizing:border-box;padding:1em;border-radius:3px;box-shadow:0 0 20px #00000026;border:solid thin rgba(0,0,0,.2);font-size:.85em}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .requestEditor[_ngcontent-%COMP%]   .update-request[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr .5fr .5fr .5fr 1fr}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:.85em;border-collapse:collapse}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:after{line-height:1em;content:\\\"_\\\";color:#fff;display:block}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;text-transform:uppercase;text-decoration:underline;background:white}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:solid thin rgba(0,0,0,.05)}.container[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:rgba(0,0,0,.05)}.container[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{box-sizing:border-box;bottom:1em;display:flex;justify-content:space-between;place-content:center;place-items:center}.container[_ngcontent-%COMP%]   .disable[_ngcontent-%COMP%]{pointer-events:none}.container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{display:inline-block;width:12px;height:12px;border:3px solid rgba(0,0,0,.3);border-radius:50%;border-top-color:#000;animation:spin .25s ease-in-out infinite;-webkit-animation:spin 1s ease-in-out infinite}.container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]:after{content:\\\"\\\";box-sizing:border-box;position:absolute;width:10px;height:10px;margin-top:-10px;margin-left:-10px;border-radius:50%;border-top:2px solid #07d;border-right:2px solid transparent;animation:spinner .6s linear infinite}.container[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{height:1.25em;width:1.25em;font-size:.75em;box-sizing:border-box;border:solid thin rgba(0,0,0,.25);border-radius:50%;display:flex;place-content:center;place-items:center;float:right;margin-right:1em}.container[_ngcontent-%COMP%]   .tool-tip[_ngcontent-%COMP%]:hover:after{position:absolute;content:attr(data-tooltip);bottom:-2.5em;right:-1em;background-color:#333;color:#fff;padding:.5em;font-size:1.25em}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1em;margin-left:.25em;margin-right:.25em;background-color:#3281a8;color:#fff;border:transparent;border-radius:50px;min-width:150px}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{outline:none;box-shadow:0 0 25px #00376380}.container[_ngcontent-%COMP%]   .gray[_ngcontent-%COMP%]{color:#00000040}.container[_ngcontent-%COMP%]   .yellow[_ngcontent-%COMP%]{background-color:#f8b024}.container[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{background-color:#38c131}.container[_ngcontent-%COMP%]   .red[_ngcontent-%COMP%]{background-color:#f14746}.container[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]{color:#6f99d1}.container[_ngcontent-%COMP%]   .white[_ngcontent-%COMP%]{color:#fff}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes spin{to{transform:rotate(360deg);-webkit-transform:rotate(360deg)}}@keyframes spinner{to{transform:rotate(360deg)}}\"]\n  });\n  return RequestDlgComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}